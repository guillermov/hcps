# config/doctrine/schema.yml
---
actAs:
  Signable:
    created:
      name: created_by
      type: integer
      onUpdate: CASCADE
      onDelete: SET NULL
      options:
        notnull: true
        default: 1
    updated:
      name: updated_by
      type: integer
      
FileInternacion:
  actAs: [Timestampable]
  columns:
    internado_id: { type: integer }
  relations:
    OrdenMedica:              {local: id, foreign: file_internacion_id, type: many, foreignAlias: File}
    ServicioMantenimiento:    {local: id, foreign: file_internacion_id, type: many, foreignAlias: File}
    JuntaMedica:              {local: id, foreign: file_internacion_id, type: many, foreignAlias: File}
    ExamenFisicoRecienNacido: {local: id, foreign: file_internacion_id, type: many, foreignAlias: File}
    SolicitudInterconsulta:   {local: id, foreign: file_internacion_id, type: many, foreignAlias: File}
    SolicitudServicio:        {local: id, foreign: file_internacion_id, type: many, foreignAlias: File}
    Internado:
      onDelete: CASCADE
      foreignAlias: Internado 
    
#--------------------------------------------------------

OrdenMedica:
  actAs: [Timestampable]
  columns:
    file_internacion_id: {type: integer, notnull: true}
    numero_hoja:         {type: integer}
  relations:  
    FileInternacion:    {local: file_internacion_id, foreign: id, type: one, foreignAlias: Ordenes}
    DetalleOrdenMedica: {local: id, foreign: orden_medica_id, type: many, foreignAlias: Orden}
    
DetalleOrdenMedica:
  actAs: [Timestampable]
  columns:
    orden_medica_id:               {type: integer, notnull: true}
    via_administracion_id:         {type: integer, notnull: true}
    fecha_hora:                    {type: timestamp}
    nombre_medicamento_indicacion: {type: string(150)}
    dosis_intervalo:               {type: string(150)}
    fecha_inicio:                  {type: date}
    fecha_terminacion:             {type: date}
  relations:
    OrdenMedica:       {local: orden_medica_id, foreign: id, type: one, foreignAlias: DetallesOrdenes}
    ViaAdministracion: {local: via_administracion_id, foreign: id, type: one, foreignAlias: DetallesOrdenes}

ViaAdministracion:
  actAs: [Timestampable]
  columns:
    nombre: {type: string(100)}
  relations:
    DetalleOrdenMedica: {local: id, foreign: via_administracion_id, type: many, foreignAlias: Administracion}

#--------------------------------------------------------

ServicioMantenimiento:
  actAs: [Timestampable]
  columns:
    file_internacion_id: {type: integer, notnull: true}
    solicitante:         {type: string(80)}
    sector:              {type: string(50)}
    fecha_solicitante:   {type: date}
    objeto_reparado:     {type: string(100)}
    caracteristicas:     {type: string(250)}
    trabajo_solicitado:  {type: string(2000)}
    conformidad:         {type: string(250)}
    reparado_por:        {type: string(150)}
    importe :            {type: integer}
    importe_fecha:       {type: date}
  relations:
    FileInternacion: {local: file_internacion_id, foreign: id, type: one, foreignAlias: Mantenimientos}

#--------------------------------------------------------

JuntaMedica:
  actAs: [Timestampable]
  columns:
    file_internacion_id:     {type: integer, notnull: true}
    medico_solicitante:      {type: string(100)}
    servicio:                {type: string(45)}
    especialidades:          {type: string(45)}
    fecha_junta:             {type: date}
    diagnostico_establecido: {type: string(2000)}
    relacion_junta:          {type: string(2500)}
    conclusiones:            {type: string(2000)}
    tac:                     {type: boolean}
    contraste:               {type: boolean}
  relations:
    FileInternacion:  {local: file_internacion_id, foreign: id, type: one, foreignAlias: Juntas}
    MedicoParticular: {local: id, foreign: junta_medica_id, type: many ,foreignAlias: Junta}
    
MedicoParticular:
  actAs: [Timestampable]
  columns:
    junta_medica_id: {type: integer, notnull: true}
    nombre:              {type: string(150)}
  relations:
    JuntaMedica: {local: junta_medica_id, foreign: id, type: one, foreignAlias: Particulares}
 
#--------------------------------------------------------
    
ExamenFisicoRecienNacido:
  actAs: [Timestampable]
  columns:
    file_internacion_id:  {type: integer, notnull: true}
    ap_paterno:           {type: string(45)}
    ap_maperno:           {type: string(45)}
    fecha_nacimiento:     {type: date}
    sexo:                 {type: string(20)}
    peso_nacimiento:      {type: string(45)}
    talla:                {type: string(45)}
    circunferencia_torax: {type: string(20)}
    numero_cuna:          {type: integer}
    fecha_adminision:     {type: date}
    fecha_egreso:         {type: date}
  relations:
    FileInternacion: {local: file_internacion_id, foreign: id, type: one, foreignAlias: RecienNacidos}
    Apgar:           {local: id, foreign: examen_fisico_recien_nacido_id, type: many, foreignAlias: RecienNacido}
    
Apgar:
  actAs: [Timestampable]
  columns:
    examen_fisico_recien_nacido_id: {type: integer, notnull: true}
    nacer_egresar:                  {type: boolean}
    apariencia:                     {type: string(100)}
    piel:                           {type: string(100)}
    cabeza:                         {type: string(100)}
    ojos:                           {type: string(100)}
    oidos_nariz_garganta:           {type: string(100)}
    torax:                          {type: string(100)}
    pulmones:                       {type: string(100)}
    corazon:                        {type: string(100)}
    abdomen:                        {type: string(100)}
    genitales:                      {type: string(100)}
    torso_espina:                   {type: string(100)}
    extremidades:                   {type: string(100)}
    reflejos:                       {type: string(100)}
    ano:                            {type: string(100)}
  relations:
    ExamenFisicoRecienNacido: {local: examen_fisico_recien_nacido_id, foreign: id, type: one, foreignAlias: Apgars}

#--------------------------------------------------------

SolicitudInterconsulta:
  actAs: [Timestampable]
  columns:
    file_internacion_id:   {type: integer, notnull: true}
    dirigida_a:            {type: string(50)}
    especialidad:          {type: string(50)}
    motivo:                {type: string(2000)}
    datos_clinicos:        {type: string(2000)}
    informe_medico:        {type: string(2500)}
    conclusiones:          {type: string(2500)}
    hora_solicitud:        {type: time}
    fecha_solicitud:       {type: date}
  relations:
    FileInternacion:   {local: file_internacion_id, foreign: id, type: one, foreignAlias: Interconsultas}
    DetalleMedicacion: {local: id, foreign: solicitud_intercosultada_id, type: many, foreignAlias: Interconsulta}
    
DetalleMedicacion:
  actAs: [Timestampable]
  columns:
    solicitud_intercosultada_id: {type: integer, notnull: true}
    medicacion_utilizada:        {type: string(150)}
    dosis:                       {type: string(45)}
    fecha_inicio:                {type: date}
  relations:
    SolicitudInterconsulta: {local: solicitud_intercosultada_id, foreign: id, type: one, foreignAlias: Medicaciones}
    
#--------------------------------------------------------

SolicitudServicio:
  actAs: [Timestampable]
  columns:
    file_internacion_id:    {type: integer, notnull: true}
    atencion_id:            {type: integer, notnull: true}
    para:                   {type: string(2000)}
    diagnostico_presuncion: {type: string(250)}
    material_utilizado:     {type: string(2000)}
  relations:
    FileInternacion: {local: file_internacion_id, foreign: id, type: one, foreignAlias: SolicitudServicios}
    Atencion:        {local: atencion_id, foreign: id, type: one, foreignAlias: SolicitudServicios}

Atencion:
  actAs: [Timestampable]
  columns:
    nombre: {type: string(100)}
  relations:
    SolicitudServicio: {local: id, foreign: atencion_id, type: many, foreignAlias: Atencion}
#--------------------------------------------------------

SolicitudReposicionMaterial:
  actAs: [Timestampable]
  columns:
    file_internacion_id: {type: integer, notnull: true}
    unidad:              {type: string(100)}
    encargado:           {type: string(150)}
  relations:
    FileInternacion: {local: file_internacion_id, foreign: id, type: one, foreignAlias: SolicitudMateriales}
    DetalleMaterial: {local: id, foreign: solicitud_reposicion_material_id, type: many, foreignAlias: SolicitudMaterial}

DetalleMaterial:
  actAs: [Timestampable]
  columns:
    solicitud_reposicion_material_id: {type: integer, notnull: true}
    codigo:                           {type: string(45)}
    descripcion:                      {type: string(100)}
    unidad:                           {type: integer}
    saldo_anterior:                   {type: integer}
    reposicion_solicitada:            {type: integer}
    saldo_actual:                     {type: integer}
  relations:
    SolicitudReposicionMaterial: {local: solicitud_reposicion_material_id, foreign: id, type: one,foreignAlias: Materiales}

#--------------------------------------------------------

SignosVitalesNursery:
  actAs: [Timestampable]
  columns:
    file_internacion_id: {type: integer, notnull: true}
    numero_hoja:         {type: integer}
  relations:
    FileInternacion: {local: file_internacion_id, foreign: id, type: one, foreignAlias: Nurserys}
    DetalleNursery:  {local: id, foreign: signos_vitales_nursery_id, type: many, foreignAlias: Nursery}
    
DetalleNursery:
  actAs: [Timestampable]
  columns:
    signos_vitales_nursery_id: {type: integer, notnull: true}
    fecha:                     {type: date}
    hora:                      {type: time}
    fc_nursery:                {type: string(45)}
    fr_nursery:                {type: string(45)}
    to_nursery:                {type: string(45)}
    diu_nursery:               {type: string(45)}
    cat_nursery:               {type: string(45)}
    lm_nursery:                {type: string(45)}
    residuo:                   {type: string(45)}
    observaciones:             {type: string(45)}
  relations:
    SignosVitalesNursery: {local: signos_vitales_nursery_id, foreign: id, type: one, foreignAlias: DetalleNurserys}

#--------------------------------------------------------

NotasEnfermeria:
  actAs: [Timestampable]
  columns:
    file_internacion_id: {type: integer, notnull: true}
    numero_hoja:         {type: integer}
  relations:
    FileInternacion:   {local: file_internacion_id, foreign: id, type: one, foreignAlias: Enfermerias}
    DetalleEnfermeria: {local: id, foreign: notas_enfermeria_id, type: many, foreignAlias: Enfermeria}

DetalleEnfermeria:
  actAs: [Timestampable]
  columns:
    notas_enfermeria_id: {type: integer, notnull: true}
    fecha:               {type: date}
    hora:                {type: time}
    procedimientos:      {type: string(150)}
    observaciones:       {type: string(500)}
  relations:
    NotasEnfermeria: {local: notas_enfermeria_id, foreign: id, type: one, foreignAlias: DetallesEnfermeria}

#--------------------------------------------------------

NotasEvolucion:
  actAs: [Timestampable]
  columns:
    file_internacion_id: {type: integer, notnull: true}
    numero_hoja:         {type: integer}
  relations:
    FileInternacion:  {local: file_internacion_id, foreign: id, type: one, foreignAlias: Evoluciones}
    DetalleEvolucion: {local: id, foreign: notas_evolucion_id, type: many, foreignAlias: Evolucion}

DetalleEvolucion:
  actAs: [Timestampable]
  columns:
    notas_evolucion_id: {type: integer, notnull: true}
    fecha_hora:         {type: timestamp}
    numero_prob:        {type: integer}
    nota_soap:          {type: string(1500)}
  relations:
    NotasEvolucion: {local: notas_evolucion_id, foreign: id, type: one, foreignAlias: DetallesEvolucion}

#--------------------------------------------------------
     
AutorizacionDiagnosticoTratamiento:
  actAs: [Timestampable]
  tableName: autorizacion_diagnostico_tratamiento
  columns: 
    id:                  { type: integer, primary: true, notnull: true, autoincrement: true } 
    file_internacion_id: { type: integer , notnull: true }
    nom_familiar:        { type: string(200) }
    ci_familiar:         { type: string(10) }
    fecha_hora:          { type: timestamp }  
  relations: 
    FileInternacion:
      onDelete: CASCADE
      foreignAlias: FileInternacion 
  
  
AutorizacionAltaSolicitada:
  actAs: [Timestampable]
  tableName: autorizacion_alta_solicitada
  columns: 
    id: { type: integer, primary: true, notnull: true, autoincrement: true } 
    file_internacion_id: { type: integer , notnull: true }
    nombre_familiar: { type: string(100) }
    ci_familiar: { type: string(10) } 
    fecha_hora: { type: timestamp }
  relations:
    FileInternacion:
      onDelete: CASCADE
      foreignAlias: FileInternacion

AutorizacionAutopsia:
  actAs: [Timestampable]
  tableName: autorizacion_autopsia
  columns: 
    id: { type: integer, primary: true, notnull: true, autoincrement: true } 
    file_internacion_id: { type: integer , notnull: true }
    nombre_familiar1: { type: string(100) }
    tipo_parentesco1: { type: string(30) }
    ci_familiar1: { type: string(10) } 
    nombre_familiar2: { type: string(100) }
    tipo_parentesco2: { type: string(30) }
    ci_familiar2: { type: string(10) } 
    nombre_familiar3: { type: string(100) }
    tipo_parentesco3: { type: string(30) }
    ci_familiar3: { type: string(10) } 
    fecha_hora: { type: timestamp }
  relations:
    FileInternacion:
      onDelete: CASCADE
      foreignAlias: FileInternacion
      
ProgramacionCirugias:
  actAs: [Timestampable]
  tableName: programacion_cirugias
  columns: 
    id: { type: integer, primary: true, notnull: true, autoincrement: true } 
    file_internacion_id: { type: integer , notnull: true }
    medico_id: { type: integer }
    operacion_fecha: { type: date }
    operacion_hora: { type: time }
    diagnostico_preoperatorio: { type: string(250) }
    tratamiento_quirurgico: { type: string(250) } 
    anestesia: { type: string(150) }
    otros: { type: string(150) } 
    examenes_auxiliares: { type: string(1) }
    fecha: { type: date }
    enfermera_id: { type: integer }
    enviado: { type: string(80) } 
    recibido: { type: string(80) } 
  relations:
    FileInternacion:
      onDelete: CASCADE
      foreignAlias: FileInternacion
      
SolicitudExamenLaboratorio:
  actAs: [Timestampable]
  tableName: solicitud_examen_laboratorio
  columns: 
    id: { type: integer, primary: true, notnull: true, autoincrement: true } 
    file_internacion_id: { type: integer, notnull: true }
    doctor_id: { type: integer }
    material_enviado: { type: string(45) } 
    otros_examenes: { type: string(45) }
    diagnostico_presuntivo: { type: string(45) }
    medico_id: { type: integer }
    lugar: { type: string(45) }
    fecha: { type: date } 
  relations:
    FileInternacion:
      onDelete: CASCADE
      foreignAlias: FileInternacion

DetalleSolicitudExamenLaboratorio:
  actAs: [Timestampable]
  tableName: detalle_solicitud_examen_laboratorio
  columns: 
    id: { type: integer, primary: true, notnull: true, autoincrement: true } 
    solicitud_examen_laboratorio_id: { type: integer, notnull: true }
    tipo: { type: integer }
  relations:
    SolicitudExamenLaboratorio:
      onDelete: CASCADE
      foreignAlias: SolicitudExamenLaboratorio

AdministracionMedicamento:
  actAs: [Timestampable]
  tableName: administracion_medicamento
  columns: 
    id: { type: integer, primary: true, notnull: true, autoincrement: true } 
    file_internacion_id: { type: integer, notnull: true }    
  relations:
    FileInternacion:
      onDelete: CASCADE
      foreignAlias: FileInternacion

DetalleAdminMedicamento:
  actAs: [Timestampable]
  tableName: detalle_admin_medicamento
  columns: 
    id: { type: integer, primary: true, notnull: true, autoincrement: true } 
    administracion_medicamento_id: { type: integer, notnull: true }
    enfermera_id: { type: integer }
    medicamento_solucion: { type: string(250) }
    tipo: { type: string(1) }
    fecha: { type: date }
    horario: { type: time }
  relations:
    AdministracionMedicamento:
      onDelete: CASCADE
      foreignAlias: AdministracionMedicamento

ResumenAlta:
  actAs: [Timestampable]
  tableName: resumen_alta
  columns: 
    id: { type: integer, primary: true, notnull: true, autoincrement: true } 
    file_internacion_id: { type: integer, notnull: true }
    medico_id: { type: integer }
    servicio: { type: string(50) }
    servicio_egreso: { type: string(50) }
    diagnostico_provisional: { type: string(2000) }
    diagnostico_definitivo: { type: string(2000) }
    operaciones: { type: string(2000) }
    anamnesis_examfisico: { type: string(2000) }
    hallazgos_lab_rayx: { type: string(2000) }
    evolucion_complicacion: { type: string(2000) }
    cond_trat_ref_pronostico: { type: string(2000) }
    fecha: { type: date }
  relations:
    FileInternacion:
      onDelete: CASCADE
      foreignAlias: FileInternacion

UsoHospitalario:
  actAs: [Timestampable]
  tableName: uso_hospitalario
  columns: 
    id: { type: integer, primary: true, notnull: true, autoincrement: true } 
    file_internacion_id: { type: integer, notnull: true }    
    medico_id: { type: integer }
    lugar: { type: string(60) }
    codigo: { type: string(45) }
    especialidad: { type: string(45) }
  relations:
    FileInternacion:
      onDelete: CASCADE
      foreignAlias: FileInternacion

DetalleUsoHospitalario:
  actAs: [Timestampable]
  tableName: detalle_uso_hospitalario
  columns: 
    id: { type: integer, primary: true, notnull: true, autoincrement: true } 
    uso_hospitalario_id: { type: integer, notnull: true }
    codigo_cbm: { type: string(40) }
    detalle: { type: string(150) }    
    cantidad: { type: string(10) }
    unidad: { type: string(20) }
    cod_farmacia_ibm: { type: string(25) }
  relations:
    UsoHospitalario:
      onDelete: CASCADE
      foreignAlias: UsoHospitalario
      
      
AtencionEnfermeria:
  actAs: [Timestampable]
  tableName: atencion_enfermeria
  columns: 
    id: { type: integer, primary: true, notnull: true, autoincrement: true } 
    file_internacion_id: { type: integer }    
    enfermera_id: { type: integer }
    lugar: { type: string(60) }
    codigo: { type: string(45) }
    especialidad: { type: string(45) }
    per_apariencia_gral_esc: { type: string(1) }
    per_apariencia_gral_val: { type: string(150) }
    per_habitos_esc: { type: string(1) }
    per_habitos_val: { type: string(150) }    
    per_alergias_esc: { type: string(1) }
    per_alergias_val: { type: string(150) }
    per_inmunizaciones_esc: { type: string(1) }
    per_inmunizaciones_val: { type: string(150) }
    per_medicacion_actual_esc: { type: string(1) }
    per_medicacion_actual_val: { type: string(150) }
    motivo_ingreso: { type: string(800) }
    nutmet_higiene_esc: { type: string(1) }
    nutmet_higiene_val: { type: string(150) }
    nutmet_estado_nutricional_esc: { type: string(1) }
    nutmet_estado_nutricional_val: { type: string(150) }
    nutmet_protesis_dental_esc: { type: string(1) }
    nutmet_protesis_dental_val: { type: string(150) }
    nutmet_liquidos_electrolitos_esc: { type: string(1) }
    nutmet_liquidos_electrolitos_val: { type: string(150) }
    patelim_habito_intestinal_esc: { type: string(1) }
    patelim_habito_intestinal_val: { type: string(150) }
    patelim_habito_urinario_esc: { type: string(1) }
    patelim_habito_urinario_val: { type: string(150) }
    acteje_valoracion_cardiopulmonar_esc: { type: string(1) }
    acteje_valoracion_cardiopulmonar_val: { type: string(150) }
    acteje_capacidad_motora_esc: { type: string(1) }
    acteje_capacidad_motora_val: { type: string(150) }
    acteje_act_diversion_esc: { type: string(1) }
    acteje_act_diversion_val: { type: string(150) }
    acteje_deficit_autocuidado_esc: { type: string(1) }
    acteje_deficit_autocuidado_val: { type: string(150) }
    acteje_crecim_desarrollo_esc: { type: string(1) }
    acteje_crecim_desarrollo_val: { type: string(150) }
    des_habito_descanso_esc: { type: string(1) }
    des_habito_descanso_val: { type: string(150) }
    des_transtorno_sueno_esc: { type: string(1) }
    des_transtorno_sueno_val: { type: string(150) }
    cogper_alter_sensoriales_esc: { type: string(1) }
    cogper_alter_sensoriales_val: { type: string(150) }
    cogper_nivel_conciencia_esc: { type: string(1) }
    cogper_nivel_conciencia_val: { type: string(150) }
    cogper_alteracion_promentales_esc: { type: string(1) }
    cogper_alteracion_promentales_val: { type: string(150) }
    auto_reaccion_emocional_esc: { type: string(1) }
    auto_reaccion_emocional_val: { type: string(150) }
    relrol_relacion_interpersonal_esc: { type: string(1) }
    relrol_relacion_interpersonal_val: { type: string(150) }
    relrol_conducta_familia_esc: { type: string(1) }
    relrol_conducta_familia_val: { type: string(150) }
    relrol_cambio_personalfamiliar_esc: { type: string(1) }
    relrol_cambio_personalfamiliar_val: { type: string(150) }
    repsex_alteracion_sisreproductivo_esc: { type: string(1) }
    repsex_alteracion_sisreproductivo_val: { type: string(150) }
    capstr_relpaciente_enfermedad_esc: { type: string(1) }
    capstr_relpaciente_enfermedad_val: { type: string(150) }
    creencia_religiosa: { type: string(80) }
    diagnostico_enfermera: { type: string(2500) }
  relations:
    FileInternacion:
      onDelete: CASCADE
      foreignAlias: FileInternacion

ListaDieta:
  actAs: [Timestampable]
  tableName: lista_dieta
  columns: 
    id: { type: integer, primary: true, notnull: true, autoincrement: true } 
    file_internacion_id: { type: integer }
    enfermera_id: { type: integer }
    servicio_id: { type: integer }
    fecha: { type: date }
    observacion: { type: string(500) }
  relations:
    FileInternacion:
      onDelete: CASCADE
      foreignAlias: FileInternacion
      
DietaPaciente:
  actAs: [Timestampable]
  tableName: dieta_paciente
  columns: 
    id: { type: integer, primary: true, notnull: true, autoincrement: true } 
    lista_dieta_id: { type: integer }
    file_internacion_id: { type: integer }
    dieta: { type: string(250) }    
    diagnostico: { type: string(150) }
  relations:
    FileInternacion:
      onDelete: CASCADE
      foreignAlias: FileInternacion
    ListaDieta:
      onDelete: CASCADE
      foreignAlias: ListaDieta  
  
SolicitudTransfusionSanguinea:
  actAs: [Timestampable]
  tableName: solicitud_transfusion_sanguinea
  columns: 
    id: { type: integer, primary: true, notnull: true, autoincrement: true } 
    file_internacion_id: { type: integer }
    quirofano: { type: string(50) }
    requiere_transfusion_de: { type: string(1) }    
    cumplirse_enforma: { type: string(1) }
    fecha_prog_quirurgica: { type: date }
    hora_prog_quirurgica: { type: time }
    quirofano_prog_quirurgica: { type: string(10) }    
    cantidad_requerida: { type: integer, length: 4 }
    cantidad_requerida_unidad: { type: string(10) }
    observaciones: { type: string(200) }
    fecha_solicitud: { type: date }
    hora_solicitud: { type: time }
    medico_id: { type: integer }
    numero: { type: string(45) }
    fecha_recepcion_solicitud: { type: date }
    bolsa_compatible1: { type: string(10) }
    bolsa_compatible2: { type: string(10) }
    bolsa_compatible3: { type: string(10) }
    bolsa_compatible4: { type: string(10) }
    bolsa_compatible5: { type: string(10) }
    grupo_sanguineo_receptor: { type: string(10) }
    hr_receptor: { type: string(10) }
    anticuerpos_irreg: { type: string(25) }
    nombre_res_bancosangre: { type: string(80) }
  relations:
    FileInternacion:
      onDelete: CASCADE
      foreignAlias: FileInternacion

InformeEstadisticoAdmEgreso:
  actAs: [Timestampable]
  tableName: informe_estadistico_adm_egreso
  columns: 
    id: { type: integer, primary: true, notnull: true, autoincrement: true } 
    file_internacion_id: { type: integer }
    urgencia_persona_ref: { type: string(150) }    
    urgencia_direccion_calle: { type: string(70) }
    urgencia_direccion_no: { type: string(10) }
    urgencia_direccion_fono: { type: string(20) }
  relations:
    FileInternacion:
      onDelete: CASCADE
      foreignAlias: FileInternacion

PapeletaPedidoMaterial:
  actAs: [Timestampable]
  tableName: papeleta_pedido_material
  columns: 
    id: { type: integer, primary: true, notnull: true, autoincrement: true } 
    file_internacion_id: { type: integer }
    enfermera_id: { type: integer }
    fecha_solicitud: { type: date }    
    numero: { type: string(15) }
    detalle: { type: string(150) }
    cantidad: { type: string(25) }
    entregado: { type: boolean }
  relations:
    FileInternacion:
      onDelete: CASCADE
      foreignAlias: FileInternacion

Internado:
  actAs: [Timestampable]
  tableName: internado
  columns: 
    afiliado_id:             { type: integer, notnull: true }
    noAfiliado_id:           { type: integer, notnull: true }
    categoria_id:            { type: integer, notnull: true }
    cama_id:                 { type: integer, notnull: false }
    medico_id:               { type: integer, notnull: true }
    medico_consulta_id:      { type: integer, notnull: true }
    medico_referencia_id:    { type: integer, notnull: true }
    formulario_referencia:   { type: string(200) }
    diagnostico:             { type: string(10000) }
    procedencia:             { type: string(500) }
    medio_referencia:        { type: string(200) }
    observaciones:           { type: string(1000) }
    fecha:                   { type: date, notnull: false }
    hora:                    { type: time, notnull: false }     
    conducto:                { type: string(1000) }
    #tipo_seguro:             {type: varchar(200)}
    es_afiliado:             { type: boolean, default: true }
    # para la parte del egreso
    alta:                    { type: boolean, default: false }
    altaFecha:               { type: date, notnull: true }
    altaHora:                { type: time, notnull: true }
    diagnostico_alta:        { type: string(1000), notnull: notnull }
    tratamientio:            { type: string(200), notnull: true }
    lugar_referencia_salida: { type: string(200), notnull: true }
    medio_referencia_salida: { type: string(200), notnull: true }
    motivo_refe_retorno:     { type: string(200), notnull: true }